<!DOCTYPE html >
<html>
        <head>
          <title>semantics - com.eharmony.aloha.semantics</title>
          <meta name="description" content="semantics - com.eharmony.aloha.semantics" />
          <meta name="keywords" content="semantics com.eharmony.aloha.semantics" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../index.html';
            var hash = 'com.eharmony.aloha.semantics.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../package.html" class="extype" name="com">com</a>.<a href="../../package.html" class="extype" name="com.eharmony">eharmony</a>.<a href="../package.html" class="extype" name="com.eharmony.aloha">aloha</a></p>
        <h1>semantics</h1><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">semantics</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.eharmony.aloha.semantics.ErrorEnrichingSemantics" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="ErrorEnrichingSemantics[A]extendsSemantics[A]"></a>
      <a id="ErrorEnrichingSemantics[A]:ErrorEnrichingSemantics[A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="ErrorEnrichingSemantics.html"><span class="name">ErrorEnrichingSemantics</span></a><span class="tparams">[<span name="A">A</span>]</span><span class="result"> extends <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a>[<span class="extype" name="com.eharmony.aloha.semantics.ErrorEnrichingSemantics.A">A</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@ErrorEnrichingSemantics[A]extendsSemantics[A]" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">User-defined functions used in feature specifications can cause models to throw undesirable exceptions.</p><div class="fullcomment"><div class="comment cmt"><p>User-defined functions used in feature specifications can cause models to throw undesirable exceptions.  This
semantics mixin can allow the the exception to be caught, reformulated as a
<a href="SemanticsUdfException.html" class="extype" name="com.eharmony.aloha.semantics.SemanticsUdfException">com.eharmony.aloha.semantics.SemanticsUdfException</a> and rethrown.  This has the distinct advantage of
providing the caller with the exact feature specification that failed along with the features that were present and
missing and the input data that caused the problem.</p><p><i>Example usage</i>: Assume a we have an implementation UnsafeSemantics, implementing
<a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">com.eharmony.aloha.semantics.Semantics</a>\[Xyz\].  We can recast the errors by doing</p><pre><span class="cmt">// An object (note that because provideSemanticsUdfException = true by default, we don't need to specify it if</span>
<span class="cmt">// we want this semantics to always enrich exceptions.</span>
<span class="kw">object</span> SemanticsObjWithEnrichedErrors
    <span class="kw">extends</span> UnsafeSemantics
    <span class="kw">with</span> RethrowingSemantics[Xyz]

<span class="cmt">// Here's a way to create a class to allow the caller to specify whether he wants</span>
<span class="cmt">// [[com.eharmony.aloha.semantics.SemanticsUdfException]]s to be provided.</span>
<span class="kw">case</span> <span class="kw">class</span> SemanticsClsWithEnrichedErrors(<span class="kw">override</span> <span class="kw">val</span> provideSemanticsUdfException: <span class="std">Boolean</span> = <span class="kw">true</span>)
    <span class="kw">extends</span> UnsafeSemantics
    <span class="kw">with</span> RethrowingSemantics[Xyz]</pre><pre><span class="kw">val</span> featureSpecification = <span class="lit">"[Some feature spec here ...]"</span>
<span class="kw">val</span> xyz: Xyz = getXyz()
<span class="cmt">// Don't just call right.get in prod.</span>
<span class="kw">val</span> f = SemanticsObjWithEnrichedErrors.createFunction[SomeOutputType](featureSpecification).right.get

<span class="cmt">// If the following line throws an exception, it'll throw a SemanticsUdfException which provides additional</span>
<span class="cmt">// information.</span>
<span class="kw">val</span> r = f(xyz)</pre></div><dl class="paramcmts block"><dt class="tparam">A</dt><dd class="cmt"><p>the input type.</p></dd></dl></div>
    </li><li name="com.eharmony.aloha.semantics.MorphableSemantics" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="MorphableSemantics[M[_]&lt;:com.eharmony.aloha.semantics.Semantics[_],A]extendsSemantics[A]"></a>
      <a id="MorphableSemantics[M[_]&lt;:Semantics[_],A]:MorphableSemantics[M,A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="MorphableSemantics.html"><span class="name">MorphableSemantics</span></a><span class="tparams">[<span name="M">M<span class="tparams">[<span name="_">_</span>]</span> &lt;: <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a>[_]</span>, <span name="A">A</span>]</span><span class="result"> extends <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a>[<span class="extype" name="com.eharmony.aloha.semantics.MorphableSemantics.A">A</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@MorphableSemantics[M[_]&lt;:com.eharmony.aloha.semantics.Semantics[_],A]extendsSemantics[A]" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A version of <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a> that can morph into other instances of the same structure but
with a different type parameter.</p><div class="fullcomment"><div class="comment cmt"><p>A version of <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a> that can morph into other instances of the same structure but
with a different type parameter.</p><p>An example:</p><pre><span class="kw">case</span> <span class="kw">class</span> X[A]() <span class="kw">extends</span> MorphableSemantics[X, A] {
  <span class="cmt">// ...</span>
  <span class="kw">def</span> morph[B: RefInfo]: <span class="std">Option</span>[X[B]] = <span class="std">Some</span>(X[B]())
}</pre><p>Notice for class <code>X</code>, that the <code>M</code> type constructor is <code>X</code> and the <code>A</code> is the same for
the second type parameter of <a href="MorphableSemantics.html" class="extype" name="com.eharmony.aloha.semantics.MorphableSemantics">MorphableSemantics</a> as for the type parameter in <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a>.</p><p>This can be use like the following:</p><pre><span class="kw">import</span> com.eharmony.aloha.reflect.RefInfo

<span class="kw">val</span> xF = X[<span class="std">Float</span>]
<span class="kw">val</span> riD = implicitly[RefInfo[<span class="std">Double</span>]]
<span class="kw">val</span> xDo: <span class="std">Option</span>[X[<span class="std">Double</span>]] = xF.morph[<span class="std">Double</span>]
<span class="kw">val</span> xDo1: <span class="std">Option</span>[X[<span class="std">Double</span>]] = xF.morph(riD)</pre><p>or use it generically:</p><pre><span class="kw">def</span> morph[M[_] <span class="kw">&lt;:</span> Semantics[_], A, B: RefInfo](m: MorphableSemantics[M, A]): <span class="std">Option</span>[Semantics[B]] = {
  m.morph[B]
}

<span class="kw">val</span> sDO: <span class="std">Option</span>[Semantics[<span class="std">Double</span>]] = morph(xF)</pre></div><dl class="paramcmts block"><dt class="tparam">M</dt><dd class="cmt"><p>a type constructor providing the structure of the <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a>.  This will most
          likely always be the concrete subclass of <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a> that implements
          <a href="MorphableSemantics.html" class="extype" name="com.eharmony.aloha.semantics.MorphableSemantics">MorphableSemantics</a>.</p></dd><dt class="tparam">A</dt><dd class="cmt"><p>the type parameter to which <code>M</code> is applied for this instance of <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a>,
          also the type parameter for the <a href="Semantics.html" class="extype" name="com.eharmony.aloha.semantics.Semantics">Semantics</a>.</p></dd></dl></div>
    </li><li name="com.eharmony.aloha.semantics.Semantics" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="Semantics[A]extendsCloseable"></a>
      <a id="Semantics[A]:Semantics[A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="Semantics.html"><span class="name">Semantics</span></a><span class="tparams">[<span name="A">A</span>]</span><span class="result"> extends <span class="extype" name="java.io.Closeable">Closeable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@Semantics[A]extendsCloseable" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Annotations</dt><dd>
                <span class="name">@implicitNotFound</span><span class="args">(<span>
      
      <span class="defval" name="&quot;Cannot find Semantics for type ${A}.&quot;">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="com.eharmony.aloha.semantics.SemanticsProvider" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="SemanticsProvider[A]extendsAnyRef"></a>
      <a id="SemanticsProvider[A]:SemanticsProvider[A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="SemanticsProvider.html"><span class="name">SemanticsProvider</span></a><span class="tparams">[<span name="A">A</span>]</span><span class="result"> extends <a href="../../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@SemanticsProvider[A]extendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">This is passed to the factory.</p>
    </li><li name="com.eharmony.aloha.semantics.SemanticsUdfException" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="SemanticsUdfException[+A]extendsAlohaExceptionwithProductwithSerializable"></a>
      <a id="SemanticsUdfException[+A]:SemanticsUdfException[A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="SemanticsUdfException.html"><span class="name">SemanticsUdfException</span></a><span class="tparams">[<span name="A">+A</span>]</span><span class="params">(<span name="specification">specification: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="accessorOutput">accessorOutput: <span class="extype" name="scala.Predef.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.util.Try">Try</span>[<span class="extype" name="scala.Any">Any</span>]]</span>, <span name="accessorsMissingOutput">accessorsMissingOutput: <a href="../../../../scala/package.html#List[+A]=List[A]" class="extmbr" name="scala.List">List</a>[<span class="extype" name="scala.Predef.String">String</span>]</span>, <span name="accessorsInErr">accessorsInErr: <a href="../../../../scala/package.html#List[+A]=List[A]" class="extmbr" name="scala.List">List</a>[<span class="extype" name="scala.Predef.String">String</span>]</span>, <span name="cause">cause: <a href="../../../../scala/package.html#Throwable=Throwable" class="extmbr" name="scala.Throwable">Throwable</a></span>, <span name="input">input: <span class="extype" name="com.eharmony.aloha.semantics.SemanticsUdfException.A">A</span></span>)</span><span class="result"> extends <a href="../AlohaException.html" class="extype" name="com.eharmony.aloha.AlohaException">AlohaException</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@SemanticsUdfException[+A]extendsAlohaExceptionwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">An exception used to denote that an error occurred while applying a user-defined function on the input data.</p><div class="fullcomment"><div class="comment cmt"><p>An exception used to denote that an error occurred while applying a user-defined function on the input data.  This
was not a problem with the model but rather the code that the model called.  This is differentiated because the
code may have been defined outside of the Aloha libraries.</p><p>The instantiation of this class should not throw exceptions.
</p></div><dl class="paramcmts block"><dt class="param">specification</dt><dd class="cmt"><p>a specification for the feature that produced an error.</p></dd><dt class="param">accessorOutput</dt><dd class="cmt"><p>output of the accessor functions for the feature that produced an error.</p></dd><dt class="param">accessorsMissingOutput</dt><dd class="cmt"><p>names of accessor functions with missing data in the feature that produced an error.</p></dd><dt class="param">accessorsInErr</dt><dd class="cmt"><p>names of accessor functions that produced errors in the feature that produced an error.</p></dd><dt class="param">cause</dt><dd class="cmt"><p>the actual exception denoting the cause of the problem in the feature.</p></dd><dt class="param">input</dt><dd class="cmt"><p>input to the feature that caused a problem.
             (<b>Note</b>: this parameter was intentionally chosen to go last because of a possible verbose toString output)</p></dd></dl></div>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="com.eharmony.aloha.semantics.EmptySemantics" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="EmptySemantics"></a>
      <a id="EmptySemantics:EmptySemantics"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="EmptySemantics$.html"><span class="name">EmptySemantics</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@EmptySemantics" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.eharmony.aloha.semantics.SemanticsUdfException" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="SemanticsUdfException"></a>
      <a id="SemanticsUdfException:SemanticsUdfException"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SemanticsUdfException$.html"><span class="name">SemanticsUdfException</span></a><span class="result"> extends <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@SemanticsUdfException" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.eharmony.aloha.semantics.compiled" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="compiled"></a>
      <a id="compiled:compiled"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="compiled/package.html"><span class="name">compiled</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@compiled" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.eharmony.aloha.semantics.func" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="func"></a>
      <a id="func:func"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="func/package.html"><span class="name">func</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eharmony.aloha.semantics.package@func" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
